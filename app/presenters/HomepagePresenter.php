<?php

/**
 * My Application
 *
 * @copyright  Copyright (c) 2010 John Doe
 * @package    MyApplication
 */

 
use Nette\Application\AppForm;


/**
 * Homepage presenter.
 *
 * @author     John Doe
 * @package    MyApplication
 */
class HomepagePresenter extends BasePresenter
{

	private $test;
	
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////

	protected function startup()
	{
		parent::startup();
		
		$this->test = 'dude'; // standart greeting
	}
	
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	
	protected function createComponentMyForm()
	{
		$form = new AppForm();
		$form->addText('name', 'Name');
		$form->addSubmit('submit');
		
		$form->onSubmit[] = callback($this, 'submitMyForm');
		
		return $form;
	}
	
	public function submitMyForm(AppForm $form)
	{
		// forms are processed during 'handle', 
		// so form value replaces value from 'action'
		$this->test = $form->values['name']; 
	}
	
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	
	public function actionDefault()
	{
		$this->test = 'random citizen'; // replaced greeting from startup
	}

	public function renderDefault()
	{
		$this->template->myVariable = $this->test;
	}
	
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////
	
	public function renderBla()
	{
		$this->template->myVariable = $this->test;
	}

}
